<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mahakal Employment Hub</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <svg width="44" height="44" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
          <rect x="2" y="2" width="20" height="20" rx="6" fill="#0b5d91"/>
          <path d="M7 12h10M7 8h10M7 16h6" stroke="#fff" stroke-width="1.2" stroke-linecap="round"/>
        </svg>
        <div>
          <h1>Mahakal Employment Hub</h1>
          <p class="tag">Mediator-based hiring â€” Company details only via Mahakal</p>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Hero / CTA -->
    <section class="hero-card" role="region" aria-label="Main actions">
      <h2>RozgÄr connect â€” asÄn, tezz, aur surakshit</h2>
      <p class="lead">Job seeker ya employer â€” dono direct contact na karke aapke through hi connect honge. Safe, private, reliable.</p>

      <div class="cta-row" role="tablist" aria-label="Open forms">
        <button class="big-btn" data-target="seeker" aria-controls="seeker" aria-expanded="false">
          <span class="btn-left"><span class="btn-icon">ğŸ‘¨â€ğŸ’¼</span></span>
          <span class="btn-main">
            <span class="btn-text">Job Seeker â€” Apply</span>
            <span class="btn-sub">Fill your profile</span>
          </span>
        </button>

        <button class="big-btn alt" data-target="employer" aria-controls="employer" aria-expanded="false">
          <span class="btn-left"><span class="btn-icon">ğŸ¢</span></span>
          <span class="btn-main">
            <span class="btn-text">Employer â€” Post Vacancy</span>
            <span class="btn-sub">Post openings privately</span>
          </span>
        </button>
      </div>
    </section>

    <!-- Forms (lazy-loaded) -->
    <section class="forms" id="forms">
      <div class="card form-card" id="seeker" role="tabpanel" aria-hidden="true" style="display:none;">
        <div class="card-head">
          <h3>Job Seeker â€” Apply</h3>
          <div class="pill">Step 1</div>
        </div>

        <div class="iframe-wrap"
             data-src="https://docs.google.com/forms/d/e/1FAIpQLSe6JORY7kbFTBPiPldYQs5gY_yOSC3pH8997NfP8FvpLVN7rw/viewform?embedded=true">
          <div class="placeholder">Form will load after you tap â€œJob Seeker â€” Applyâ€</div>
        </div>
      </div>

      <div class="card form-card" id="employer" role="tabpanel" aria-hidden="true" style="display:none;">
        <div class="card-head">
          <h3>Employer â€” Post Vacancy</h3>
          <div class="pill">Step 2</div>
        </div>

        <div class="iframe-wrap"
             data-src="https://docs.google.com/forms/d/e/1FAIpQLSe3QJWKisPjRHQA3CBcE0ug2g_qQ6PdrKk8BtzDJznjWW9ERA/viewform?embedded=true">
          <div class="placeholder">Form will load after you tap â€œEmployer â€” Post Vacancyâ€</div>
        </div>
      </div>
    </section>

    <section class="about">
      <h3>Admin (Mahakal)</h3>
      <p>Forms responses will go to Google Sheets. You will receive notifications and manage the forward-to-company flow â€” company details remain private.</p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>&copy; Mahakal Employment Hub â€” Mediator-first hiring</small>
    </div>
  </footer>

  <script>
    // Lazy-load iframe on button click (keeps page fast and mobile-friendly)
    (function() {
      const btns = document.querySelectorAll('.big-btn');
      const forms = document.querySelectorAll('.form-card');

      function hideAll() {
        forms.forEach(f => {
          f.style.display = 'none';
          f.setAttribute('aria-hidden', 'true');
        });
        btns.forEach(b => b.setAttribute('aria-expanded', 'false'));
        btns.forEach(b => b.classList.remove('active'));
      }

      function loadIframe(wrapper) {
        if (!wrapper) return;
        if (wrapper.dataset.loaded === "1") return;
        const src = wrapper.dataset.src;
        if (!src) return;
        const iframe = document.createElement('iframe');
        iframe.src = src;
        iframe.width = '100%';
        iframe.height = window.innerWidth <= 900 ? '1700' : '1200';
        iframe.frameBorder = '0';
        iframe.loading = 'lazy';
        iframe.className = 'form-iframe';
        wrapper.innerHTML = '';
        wrapper.appendChild(iframe);
        wrapper.dataset.loaded = "1";
      }

      btns.forEach(b => {
        b.addEventListener('click', () => {
          const target = b.dataset.target;
          hideAll();
          const el = document.getElementById(target);
          el.style.display = 'block';
          el.setAttribute('aria-hidden', 'false');
          b.setAttribute('aria-expanded', 'true');
          b.classList.add('active');

          // scroll to element on mobile
          if (window.innerWidth <= 900) {
            el.scrollIntoView({behavior: 'smooth', block: 'start'});
          }

          // lazy load iframe inside that card
          const wrapper = el.querySelector('.iframe-wrap');
          loadIframe(wrapper);
        });
      });

      // keyboard accessibility
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          const active = document.activeElement;
          if (active && active.classList.contains('big-btn')) {
            active.click();
          }
        }
      });

      // initial hide
      hideAll();
    })();
  </script>
</body>
</html>
